{"version":3,"sources":["webpack://VueFormJsonSchema/webpack/bootstrap","webpack://VueFormJsonSchema/./constants/index.js","webpack://VueFormJsonSchema/external \"lodash/isEqual\"","webpack://VueFormJsonSchema/external \"lodash/get\"","webpack://VueFormJsonSchema/external \"lodash/merge\"","webpack://VueFormJsonSchema/external \"lodash/cloneDeep\"","webpack://VueFormJsonSchema/external \"lodash/set\"","webpack://VueFormJsonSchema/./vfjs-global-component/index.js","webpack://VueFormJsonSchema/./vfjs-field-component/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/computed.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/data.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-bus/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-helpers/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-lifecycle/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-model/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-model/getters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-model/setters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-state/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-state/getters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-state/setters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-schema/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-schema/getters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-schema/setters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-ui/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-ui/getters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-ui/setters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-validation/index.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-validation/getters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/methods/vfjs-validation/setters.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/props.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/watch.js","webpack://VueFormJsonSchema/./vfjs-global-mixin/index.js","webpack://VueFormJsonSchema/./vfjs-field-mixin/computed.js","webpack://VueFormJsonSchema/./vfjs-field-mixin/methods/getters.js","webpack://VueFormJsonSchema/./vfjs-field-mixin/methods/index.js","webpack://VueFormJsonSchema/./vfjs-field-mixin/methods/helpers.js","webpack://VueFormJsonSchema/./vfjs-field-mixin/methods/setters.js","webpack://VueFormJsonSchema/./vfjs-field-mixin/index.js","webpack://VueFormJsonSchema/./vfjs-field-mixin/props.js","webpack://VueFormJsonSchema/./plugin.js","webpack://VueFormJsonSchema/external \"minibus\"","webpack://VueFormJsonSchema/external \"ajv\"","webpack://VueFormJsonSchema/./index.js","webpack://VueFormJsonSchema/../node_modules/webpack/buildin/global.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","VFJS_EVENT_FIELD_STATE_UPDATE","VFJS_EVENT_FIELD_MODEL_VALIDATE","VFJS_EVENT_FIELD_MODEL_UPDATE","VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN","VFJS_EVENT_MODEL_UPDATE","VFJS_EVENT_MODEL_UPDATED","VFJS_EVENT_MODEL_VALIDATE","VFJS_EVENT_STATE_UPDATE","VFJS_EVENT_STATE_UPDATED","VFJS_EVENT_UI_FIELDS_UPDATE","VFJS_EXTERNAL_EVENT_CHANGE","VFJS_EXTERNAL_EVENT_STATE_CHANGE","VFJS_EXTERNAL_EVENT_VALIDATED","VFJS_EXTERNAL_MODEL_PROP","require","VueFormJsonSchema","mixins","vfjsGlobalMixin","render","this","$createElement","tag","vfjsFields","VueFormJsonSchemaFieldComponent","vfjsFieldMixin","vfjsComponent","getVfjsAttributes","$slots","computed","vfjsSchemaValid","vfjsSchema","every","isVfjsFieldSchemaValid","vfjsModelValid","isVfjsFieldModelValid","data","vfjsBus","vfjsEvents","vfjsFieldsActive","vfjsFieldsRequired","vfjsModel","vfjsOptions","allowInvalidModel","ajv","keywords","locale","options","allErrors","castToSchemaType","showValidationErrors","validate","validateOnLoad","validateOnChange","valueProp","vfjsState","vfjsUiSchema","addVfjsListener","event","callback","on","addVfjsListeners","events","forEach","removeVfjsListener","off","removeVfjsListeners","removeVfjsListenersAll","vfjsBusEventHandler","payload","eventActions","allModels","vfjsHelperGetFieldsWithClearOnHide","uiSchema","activeModels","inactiveModels","keys","reduce","models","clearModels","Array","isArray","clearModel","newModel","vfjsHelperApplyFieldModel","undefined","setVfjsModel","cb","emit","model","schema","type","required","vfjsHelperFieldIsRequired","properties","getVfjsSchema","errors","getVfjsValidationErrors","originalValue","vfjsHelperCastValueToSchemaType","vfjsFieldModel","getVfjsFieldModel","newFieldState","assign","getVfjsFieldState","vfjsFieldDirty","vfjsFieldErrors","setVfjsFieldState","length","vfjsErrors","getVfjsState","$emit","setVfjsUiFieldsActive","getVfjsModel","newVfjsState","setVfjsState","vfjsFieldsActiveModels","vfjsBusInitialize","Minibus","vfjsHelpers","vfjsHelperCreateField","vfjsFieldUiSchema","vfjsFieldId","id","children","component","vfjsFieldErrorHandler","errorHandler","errorOptions","vfjsFieldErrorOptions","fieldOptions","vfjsFieldOptions","vfjsFieldModelKey","vfjsFieldRequired","vfjsFieldValueProp","vfjsFieldSchema","getVfjsFieldSchema","vfjsFieldSchemas","schemas","vfjsFieldState","domProps","vfjsChildren","innerHTML","vfjsHelperGetErrors","map","props","vfjsChildrenUiSchema","vfjsHelperCreateComponent","error","index","class","message","vfjsHelperHashString","string","binary","integer","char","charCodeAt","chars","array","push","Math","floor","join","localComponent","vfjsComponents","vfjsFieldComponent","newVfjsModel","vfjsHelperGenerateField","field","level","fieldWithoutChildren","objString","JSON","stringify","child","vfjsHelperChildArrayMapper","parentModel","vfjsHelperGetChildArrayModelAtIndex","vfjsHelperChildArrayReducerMapper","allChildren","relativeModel","vfjsHelperGetRelativeModel","String","substr","vfjsHelperGetParentModel","parentIndex","lastIndexOf","indexOf","vfjsHelperFieldIsArray","items","fields","displayOptions","clearOnHide","Number","parseInt","getVfjsFieldsModels","vfjsLifecycle","vfjsDestroy","vfjsInitialize","setVfjsSchema","components","vfjsValidationInitialize","setVfjsUiSchema","setVfjsFieldModel","silent","state","setVfjsFields","getVfjsSchemaFallback","getVfjsSchemaPath","path","arrayPath","split","vfjsUi","getVfjsFields","getVfjsUiFieldVisible","vfjsFieldBlur","getVfjsUiFieldArrayChildrenActive","v","getVfjsUiFieldsActive","getVfjsUiField","newFields","newField","getVfjsFieldUiSchema","getVfjsUiSchema","newVfjsUiSchema","vfjsMethods","plugins","Ajv","addKeyword","addSchema","propertiesRequired","getVfjsPropertiesRequired","getVfjsChildPropertiesRequired","keyword","params","missingProperty","parent","dataPath","propertyPath","parentFields","excludeProperties","uniqueProperties","filter","excludePropertiesChildren","childFieldsRequired","getVfjsFieldModelValid","getVfjsFieldModelValidationErrors","getVfjsModelValidationErrorsLocalized","getVfjsValid","ajvSchema","ajvModel","valid","setVfjsValidationErrors","operations","Promise","resolve","reject","fieldState","all","then","default","watch","prop","created","beforeDestroy","methods","attrsValueElements","domPropsValueElements","domPropsCheckedElements","innerHTMLElements","requiredElements","vfjsComputedFieldHasErrors","vfjsComputedShowFieldErrors","vfjsComputedFieldErrorOptions","vfjsComputedFieldAttrs","attrs","vfjsComputedFieldDomProps","checked","vfjsComputedFieldOptions","vfjsComputedMergedFieldOptions","vfjsDefaultOptions","getters","getVfjsFieldAttributes","optionsClass","optionsOn","optionsNativeOn","nativeOn","defaultOptionsClass","defaultOn","defaultNativeOn","defaultOptions","classFormatted","vfjsFieldHelperFormatClasses","onFormatted","vfjsFieldHelperFormatEvents","nativeOnFormatted","computedOptions","defaultProps","$options","propsData","fieldOptionsAsProps","allAttributes","vfjsFieldHelperAddListener","el","addEventListener","vfjsFieldHelperStateEventHandler","vfjsFieldHelperRemoveListener","removeEventListener","initialBlur","eventsObj","obj","vfjsFieldHelperFormatEventsReducer","classes","classesObj","vfjsFieldHelperEventHandler","Event","target","formattedEvents","setState","setModel","Function","Boolean","vfjsFieldTag","mounted","$el","plugin","install","Vue","installed","vfjsGlobalComponent","GlobalVue","window","global","use","vfjsGlobal","g","e"],"mappings":"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","file":"vue-form-json-schema.esm.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","export const VFJS_EVENT_FIELD_STATE_UPDATE = 'VFJS_EVENT_FIELD_STATE_UPDATE';\nexport const VFJS_EVENT_FIELD_MODEL_VALIDATE = 'VFJS_EVENT_FIELD_MODEL_VALIDATE';\nexport const VFJS_EVENT_FIELD_MODEL_UPDATE = 'VFJS_EVENT_FIELD_MODEL_UPDATE';\nexport const VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN = 'VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN';\nexport const VFJS_EVENT_MODEL_UPDATE = 'VFJS_EVENT_MODEL_UPDATE';\nexport const VFJS_EVENT_MODEL_UPDATED = 'VFJS_EVENT_MODEL_UPDATED';\nexport const VFJS_EVENT_MODEL_VALIDATE = 'VFJS_EVENT_MODEL_VALIDATE';\nexport const VFJS_EVENT_STATE_UPDATE = 'VFJS_EVENT_STATE_UPDATE';\nexport const VFJS_EVENT_STATE_UPDATED = 'VFJS_EVENT_STATE_UPDATED';\nexport const VFJS_EVENT_UI_FIELDS_UPDATE = 'VFJS_EVENT_UI_FIELDS_UPDATE';\nexport const VFJS_EXTERNAL_EVENT_CHANGE = 'change';\nexport const VFJS_EXTERNAL_EVENT_STATE_CHANGE = 'state-change';\nexport const VFJS_EXTERNAL_EVENT_VALIDATED = 'validated';\nexport const VFJS_EXTERNAL_MODEL_PROP = 'model';\n","module.exports = require(\"lodash/isEqual\");","module.exports = require(\"lodash/get\");","module.exports = require(\"lodash/merge\");","module.exports = require(\"lodash/cloneDeep\");","module.exports = require(\"lodash/set\");","import vfjsGlobalMixin from '../vfjs-global-mixin';\n\nconst VueFormJsonSchema = {\n  name: 'vue-form-json-schema',\n  mixins: [vfjsGlobalMixin],\n  render() {\n    return this.$createElement(this.tag, this.vfjsFields);\n  },\n};\n\nexport default VueFormJsonSchema;\n","import vfjsFieldMixin from '../vfjs-field-mixin';\n\nconst VueFormJsonSchemaFieldComponent = {\n  name: 'vue-form-json-schema-field-component',\n  mixins: [vfjsFieldMixin],\n  render() {\n    return this.$createElement(\n      this.vfjsComponent,\n      {\n        ...this.getVfjsAttributes(),\n      },\n      this.$slots.default,\n    );\n  },\n};\n\nexport default VueFormJsonSchemaFieldComponent;\n","const computed = {\n  vfjsSchemaValid() {\n    return this.vfjsSchema.every(this.isVfjsFieldSchemaValid);\n  },\n  vfjsModelValid() {\n    return this.vfjsSchema.every(this.isVfjsFieldModelValid);\n  },\n};\n\nexport default computed;\n","import {\n  VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN,\n  VFJS_EVENT_FIELD_MODEL_UPDATE,\n  VFJS_EVENT_FIELD_MODEL_VALIDATE,\n  VFJS_EVENT_FIELD_STATE_UPDATE,\n  VFJS_EVENT_MODEL_UPDATE,\n  VFJS_EVENT_MODEL_UPDATED,\n  VFJS_EVENT_MODEL_VALIDATE,\n  VFJS_EVENT_STATE_UPDATE,\n  VFJS_EVENT_STATE_UPDATED,\n  VFJS_EVENT_UI_FIELDS_UPDATE,\n} from '../constants';\n\nconst data = () => ({\n  vfjsBus: {},\n  vfjsEvents: [\n    VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN,\n    VFJS_EVENT_FIELD_MODEL_UPDATE,\n    VFJS_EVENT_FIELD_MODEL_VALIDATE,\n    VFJS_EVENT_FIELD_STATE_UPDATE,\n    VFJS_EVENT_MODEL_UPDATE,\n    VFJS_EVENT_MODEL_UPDATED,\n    VFJS_EVENT_MODEL_VALIDATE,\n    VFJS_EVENT_STATE_UPDATE,\n    VFJS_EVENT_STATE_UPDATED,\n    VFJS_EVENT_UI_FIELDS_UPDATE,\n  ],\n  vfjsFields: [],\n  vfjsFieldsActive: [],\n  vfjsFieldsRequired: [],\n  vfjsModel: {},\n  vfjsOptions: {\n    allowInvalidModel: true,\n    ajv: {\n      keywords: {},\n      locale: null,\n      options: {\n        allErrors: true,\n      },\n    },\n    castToSchemaType: false,\n    showValidationErrors: false,\n    validate: true,\n    validateOnLoad: true,\n    validateOnChange: true,\n    valueProp: 'value',\n  },\n  vfjsSchema: {},\n  vfjsState: {},\n  vfjsUiSchema: [],\n});\n\nexport default data;\n","import Minibus from 'minibus';\nimport { isEqual, set } from 'lodash';\nimport {\n  VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN,\n  VFJS_EVENT_FIELD_MODEL_UPDATE,\n  VFJS_EVENT_FIELD_MODEL_VALIDATE,\n  VFJS_EVENT_FIELD_STATE_UPDATE,\n  VFJS_EVENT_MODEL_UPDATED,\n  VFJS_EVENT_MODEL_VALIDATE,\n  VFJS_EVENT_STATE_UPDATE,\n  VFJS_EVENT_STATE_UPDATED,\n  VFJS_EVENT_UI_FIELDS_UPDATE,\n  VFJS_EXTERNAL_EVENT_CHANGE,\n  VFJS_EXTERNAL_EVENT_STATE_CHANGE,\n  VFJS_EXTERNAL_EVENT_VALIDATED,\n} from '../../../constants';\n\nconst vfjsBus = {\n  addVfjsListener(event, callback) {\n    this.vfjsBus.on(event, value => callback(event, value));\n  },\n  addVfjsListeners(events = [], callback) {\n    events.forEach(event => this.addVfjsListener(event, callback));\n  },\n  removeVfjsListener(event) {\n    this.vfjsBus.off(event);\n  },\n  removeVfjsListeners(events = []) {\n    events.forEach(this.removeVfjsListener);\n  },\n  removeVfjsListenersAll() {\n    this.vfjsBus.off();\n  },\n  vfjsBusEventHandler(event, payload) {\n    const eventActions = {\n      [VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN]: () => {\n        const allModels = this.vfjsHelperGetFieldsWithClearOnHide(this.uiSchema);\n        const activeModels = this.vfjsHelperGetFieldsWithClearOnHide(this.vfjsFieldsActive);\n\n        const inactiveModels = Object.keys(allModels).reduce((models, key) => {\n          if (!(key in activeModels)) {\n            // eslint-disable-next-line no-param-reassign\n            models[key] = allModels[key];\n          }\n\n          return models;\n        }, {});\n\n        Object.keys(inactiveModels).forEach((key) => {\n          const clearModels = inactiveModels[key];\n          if (Array.isArray(clearModels)) {\n            clearModels.forEach((clearModel) => {\n              const newModel = this.vfjsHelperApplyFieldModel(\n                typeof clearModel === 'string' ? clearModel : key,\n                undefined,\n              );\n              this.setVfjsModel(newModel, true);\n            });\n          } else {\n            const newModel = this.vfjsHelperApplyFieldModel(\n              typeof clearModels === 'string' ? clearModels : key,\n              undefined,\n            );\n            this.setVfjsModel(newModel, true);\n          }\n        });\n      },\n      [VFJS_EVENT_FIELD_MODEL_VALIDATE]: ({ key, value, cb }) => {\n        const vfjsModel = this.vfjsHelperApplyFieldModel(key, value);\n\n        this.vfjsBus.emit(VFJS_EVENT_MODEL_VALIDATE, {\n          vfjsModel,\n          cb: () => {\n            const model = {};\n            set(model, key, value);\n\n            const schema = {\n              type: 'object',\n              required: this.vfjsHelperFieldIsRequired(key) ? [key] : [],\n              properties: {\n                [key]: this.getVfjsSchema(key) || {},\n              },\n            };\n\n            const errors = this.getVfjsValidationErrors(model, schema);\n\n            if (cb && typeof cb === 'function') {\n              cb(errors);\n            }\n          },\n        });\n      },\n      [VFJS_EVENT_FIELD_MODEL_UPDATE]: ({ key, value: originalValue, cb }) => {\n        let value = originalValue;\n\n        const { castToSchemaType = false } = this.vfjsOptions;\n        if (castToSchemaType) {\n          // Cast model to the type specified in its schema\n          value = this.vfjsHelperCastValueToSchemaType(key, value);\n        }\n\n        this.vfjsBus.emit(VFJS_EVENT_FIELD_MODEL_VALIDATE, {\n          key,\n          value,\n          cb: (errors) => {\n            const vfjsFieldModel = this.getVfjsFieldModel(key);\n            const newFieldState = Object.assign({}, this.getVfjsFieldState(key), {\n              vfjsFieldDirty: !isEqual(vfjsFieldModel, value),\n              vfjsFieldErrors: errors,\n            });\n\n            this.setVfjsFieldState(newFieldState, key);\n\n            if (!errors || (errors && errors.length === 0) || this.vfjsOptions.allowInvalidModel) {\n              const newModel = this.vfjsHelperApplyFieldModel(key, value);\n              this.setVfjsModel(newModel);\n            }\n\n            if (cb && typeof cb === 'function') {\n              cb(errors);\n            }\n          },\n        });\n      },\n      [VFJS_EVENT_FIELD_STATE_UPDATE]: ({ key, value, cb }) => {\n        this.vfjsBus.emit(VFJS_EVENT_STATE_UPDATE, {\n          key,\n          value,\n          cb,\n        });\n      },\n      [VFJS_EVENT_MODEL_VALIDATE]: ({ vfjsModel, cb }) => {\n        const vfjsErrors = this.getVfjsValidationErrors(vfjsModel);\n\n        this.vfjsBus.emit(VFJS_EVENT_STATE_UPDATE, {\n          key: 'vfjsErrors',\n          value: vfjsErrors,\n          cb: () => {\n            const vfjsState = this.getVfjsState();\n            this.$emit(VFJS_EXTERNAL_EVENT_VALIDATED, vfjsState.vfjsErrors.length === 0);\n\n            if (cb && typeof cb === 'function') {\n              cb(vfjsErrors);\n            }\n          },\n        });\n      },\n      [VFJS_EVENT_UI_FIELDS_UPDATE]: () => {\n        this.setVfjsUiFieldsActive();\n\n      },\n      [VFJS_EVENT_MODEL_UPDATED]: () => {\n        this.vfjsBus.emit(VFJS_EVENT_UI_FIELDS_UPDATE);\n\n        // Clear hidden fields\n        this.vfjsBus.emit(VFJS_EVENT_FIELD_MODEL_CLEAR_HIDDEN);\n\n        this.$emit(VFJS_EXTERNAL_EVENT_CHANGE, this.getVfjsModel());\n      },\n      [VFJS_EVENT_STATE_UPDATE]: ({ key, value, cb }) => {\n        const newVfjsState = Object.assign({}, this.getVfjsState(), {\n          [key]: value,\n        });\n\n        this.setVfjsState(newVfjsState);\n\n        if (cb && typeof cb === 'function') {\n          cb();\n        }\n      },\n      [VFJS_EVENT_STATE_UPDATED]: (cb) => {\n        const vfjsState = {\n          vfjsErrors: [],\n          vfjsFieldsActive: this.vfjsFieldsActive,\n          vfjsFieldsActiveModels: this.vfjsFieldsActiveModels,\n          ...this.getVfjsState(),\n        };\n\n        this.$emit(VFJS_EXTERNAL_EVENT_STATE_CHANGE, vfjsState);\n\n        if (cb && typeof cb === 'function') {\n          cb();\n        }\n      },\n    };\n\n    if (event && event in eventActions) {\n      eventActions[event](payload);\n    }\n  },\n  vfjsBusInitialize() {\n    this.vfjsBus = Minibus.create();\n  },\n};\n\nexport default vfjsBus;\n","import { set, cloneDeep } from 'lodash';\nimport vfjsFieldComponent from '../../../vfjs-field-component';\n\nconst vfjsHelpers = {\n  vfjsHelperCreateField(vfjsFieldUiSchema) {\n    const {\n      id: vfjsFieldId,\n      children = [],\n      component,\n      errorHandler: vfjsFieldErrorHandler,\n      errorOptions: vfjsFieldErrorOptions = {},\n      fieldOptions: vfjsFieldOptions = {},\n      model: vfjsFieldModelKey = '',\n      required: vfjsFieldRequired = false,\n      valueProp: vfjsFieldValueProp = this.vfjsOptions.valueProp,\n    } = vfjsFieldUiSchema;\n\n    const vfjsFieldSchema = this.getVfjsFieldSchema(vfjsFieldModelKey) || {};\n    const vfjsFieldSchemas = this.schemas;\n    const vfjsFieldModel = this.getVfjsFieldModel(vfjsFieldModelKey);\n    const vfjsFieldState = this.getVfjsFieldState(vfjsFieldModelKey) || {};\n    const vfjsModel = this.getVfjsModel();\n    const vfjsState = this.getVfjsState();\n\n    // Get field errors\n    const { vfjsFieldErrors = [] } = vfjsFieldState;\n\n    // If this field is an errorHandler we pass the errors as the children\n    // but only if the error handler does not have children of its own or\n    // domProps.innerHTML is set\n    const { domProps } = vfjsFieldOptions;\n    const generateErrorsAsChildren = vfjsFieldErrorHandler\n      && vfjsFieldErrors.length > 0\n      && (!domProps || !domProps.innerHTML)\n      && children.length === 0;\n\n    const vfjsChildren = generateErrorsAsChildren\n      ? this.vfjsHelperGetErrors(vfjsFieldErrors, vfjsFieldId)\n      : children.map(this.vfjsHelperCreateField);\n\n    const props = {\n      ...vfjsFieldOptions,\n      vfjsBus: this.vfjsBus,\n      vfjsChildren,\n      vfjsChildrenUiSchema: children,\n      vfjsFieldErrorHandler,\n      vfjsFieldErrorOptions,\n      vfjsFieldErrors,\n      vfjsFieldId,\n      vfjsFieldModel,\n      vfjsFieldModelKey,\n      vfjsFieldOptions,\n      vfjsFieldRequired,\n      vfjsFieldSchema,\n      vfjsFieldSchemas,\n      vfjsFieldState,\n      vfjsFieldUiSchema,\n      vfjsFieldValueProp,\n      vfjsOptions: this.vfjsOptions,\n      vfjsModel,\n      vfjsState,\n    };\n\n    return this.vfjsHelperCreateComponent({\n      children: vfjsChildren,\n      component,\n      props,\n    });\n  },\n  vfjsHelperGetErrors(errors = [], id) {\n    return errors.map((error, index) => this.vfjsHelperCreateField({\n      id: `${id}-error-${index}`,\n      component: 'div',\n      fieldOptions: {\n        class: ['vfjs-error', 'vfjs-default-error-handler'],\n        domProps: {\n          innerHTML: error.message,\n        },\n      },\n    }));\n  },\n  vfjsHelperHashString(string, binary = 62) {\n    let integer = 0;\n\n    for (let i = 0; i < string.length; i++) {\n      const char = string.charCodeAt(i);\n      integer = (integer * 33) ^ char; // eslint-disable-line no-bitwise\n    }\n\n    // Convert int to unsigned to get a positive number\n    integer >>>= 0; // eslint-disable-line no-bitwise\n\n    const chars = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    const array = [];\n\n    // Create an alphanumeric hash of unsigned int\n    while (integer >= binary) {\n      const char = integer % binary;\n      array.push(chars[char]);\n      integer = Math.floor(integer / binary);\n    }\n\n    return array.join('');\n  },\n  vfjsHelperCreateComponent({ children = [], component, props }) {\n    // If the component matches one of the local components\n    // passed in with the `components` prop\n    const localComponent = this.vfjsComponents[component];\n\n    if (!props.vfjsFieldModelKey) {\n      return this.$createElement(\n        localComponent || component,\n        {\n          key: props.vfjsFieldId,\n          ...props.vfjsFieldOptions,\n        },\n        children,\n      );\n    }\n\n    return this.$createElement(\n      vfjsFieldComponent,\n      {\n        key: `${props.key || props.vfjsFieldId}-wrapper`,\n        props: {\n          ...props,\n          vfjsComponent: localComponent || component,\n        },\n      },\n      children,\n    );\n  },\n  vfjsHelperApplyFieldModel(key, value) {\n    const newVfjsModel = cloneDeep(this.getVfjsModel());\n    set(newVfjsModel, key, value);\n    return newVfjsModel;\n  },\n  // The level param helps us to differentiate further between fields.\n  // As the same field configuration may be present throughout the ui schema\n  // and thus have the same hash.\n  //\n  // We mediate this by providing the depth level as a second param\n  // which will make the hash unique for every field\n  vfjsHelperGenerateField(field, level = 0) {\n    if (!field) {\n      return false;\n    }\n\n    const { children = [], ...fieldWithoutChildren } = field;\n    const objString = JSON.stringify({ fieldWithoutChildren, level });\n    const id = this.vfjsHelperHashString(objString);\n\n    return {\n      ...field,\n      id,\n      children: children.map((child, i) => this.vfjsHelperGenerateField(child, (i + 1) * (level + 1))),\n    };\n  },\n  vfjsHelperChildArrayMapper({ model, children = [], ...child }, parentModel, index) {\n    return {\n      ...child,\n      model: this.vfjsHelperGetChildArrayModelAtIndex(model, parentModel, index),\n      children: this.vfjsHelperChildArrayReducerMapper(parentModel, children, index),\n    };\n  },\n  vfjsHelperChildArrayReducerMapper(model, children = [], index) {\n    return children.reduce(\n      (allChildren, child) => [\n        ...allChildren,\n        this.vfjsHelperChildArrayMapper(child, model, index),\n      ],\n      [],\n    );\n  },\n  vfjsHelperGetChildArrayModelAtIndex(model, parentModel, index) {\n    const relativeModel = this.vfjsHelperGetRelativeModel(model, parentModel);\n    return relativeModel ? `${parentModel}.${index}.${relativeModel}` : model;\n  },\n  vfjsHelperGetRelativeModel(model, parentModel) {\n    return model ? String(model).substr(parentModel.length + 1) : model;\n  },\n  vfjsHelperGetParentModel(model) {\n    const parentIndex = String(model).lastIndexOf('.');\n    return String(model).substr(0, parentIndex);\n  },\n  vfjsHelperFieldIsRequired(model) {\n    if (model) {\n      const parentModel = this.vfjsHelperGetParentModel(model);\n      if (parentModel) {\n        return this.vfjsFieldsRequired.indexOf(parentModel) !== -1;\n      }\n\n      return this.vfjsFieldsRequired.indexOf(model) !== -1;\n    }\n\n    return false;\n  },\n  vfjsHelperFieldIsArray(key) {\n    if (!key) {\n      return false;\n    }\n\n    const schema = this.getVfjsFieldSchema(key);\n    return schema ? Array.isArray(schema.items) : false;\n  },\n  vfjsHelperGetFieldsWithClearOnHide(fields = []) {\n    return fields.reduce((models, { children = [], displayOptions = {}, model }) => {\n      if (displayOptions.clearOnHide) {\n        if (model) {\n          // eslint-disable-next-line no-param-reassign\n          models[model] = displayOptions.clearOnHide;\n        } else if (!model && typeof displayOptions.clearOnHide === 'string') {\n          // eslint-disable-next-line no-param-reassign\n          models[displayOptions.clearOnHide] = displayOptions.clearOnHide;\n        }\n      }\n\n      return {\n        ...models,\n        ...this.vfjsHelperGetFieldsWithClearOnHide(children),\n      };\n    }, {});\n  },\n  vfjsHelperCastValueToSchemaType(key, value) {\n    if (typeof value !== 'undefined') {\n      const { type } = this.getVfjsSchema(key);\n\n      // Convert to a numeric value\n      if (type === 'number') {\n        return Number(value);\n      }\n\n      if (type === 'integer') {\n        return parseInt(value);\n      }\n\n      // Convert to a boolean value\n      if (type === 'boolean' && (value === 'true' || value === 'false')) {\n        return value === 'true';\n      }\n    }\n\n    return value;\n  },\n  getVfjsFieldsModels(fields) {\n    return fields.reduce(\n      (models, { children = [], model }) => [\n        ...models,\n        ...(model && models.indexOf(model) === -1 ? [model] : []),\n        ...this.getVfjsFieldsModels(children),\n      ],\n      [],\n    );\n  },\n};\n\nexport default vfjsHelpers;\n","const vfjsLifecycle = {\n  vfjsDestroy() {\n    this.vfjsEvents.forEach(event => this.removeVfjsListener(event));\n  },\n  vfjsInitialize() {\n    // Set the JSON schema\n    this.setVfjsSchema(this.schema);\n\n    // Set up options\n    this.vfjsOptions = {\n      ...this.vfjsOptions,\n      ...this.options,\n    };\n\n    // Set up the local components\n    this.vfjsComponents = this.components;\n\n    // Set up the plugin's internal bus\n    this.vfjsBusInitialize();\n\n    // Register events in vfjsEvents to vfjsBusEventHandler\n    this.addVfjsListeners(this.vfjsEvents, this.vfjsBusEventHandler);\n\n    // Set the model from props\n    this.setVfjsModel(this.model, true);\n\n    // Set up validation\n    this.vfjsValidationInitialize();\n\n    // Set up ui schema\n    this.setVfjsUiSchema(this.uiSchema);\n\n    // Check and set active fields (visible)\n    this.setVfjsUiFieldsActive();\n  },\n};\n\nexport default vfjsLifecycle;\n","import getters from './getters';\nimport setters from './setters';\n\nconst vfjsModel = {\n  ...getters,\n  ...setters,\n};\n\nexport default vfjsModel;\n","import { get } from 'lodash';\n\nconst vfjsModelGetters = {\n  getVfjsFieldModel(key) {\n    if (key) {\n      return this.getVfjsModel(key);\n    }\n\n    return this.vfjsFieldModelKey\n      ? this.getVfjsModel(this.vfjsFieldModelKey)\n      : null;\n  },\n  getVfjsModel(key) {\n    if (!key || key === true) {\n      return this.vfjsModel;\n    }\n\n    return get(this.vfjsModel, key);\n  },\n};\n\nexport default vfjsModelGetters;\n","import { cloneDeep, isEqual } from 'lodash';\nimport {\n  VFJS_EVENT_FIELD_MODEL_UPDATE,\n  VFJS_EVENT_MODEL_UPDATED,\n} from '../../../constants';\n\nconst vfjsModelSetters = {\n  setVfjsFieldModel(value, key) {\n    this.vfjsBus.emit(VFJS_EVENT_FIELD_MODEL_UPDATE, {\n      key: key || this.vfjsFieldModelKey,\n      value,\n    });\n  },\n  setVfjsModel(model, silent = false) {\n    if (!isEqual(model, this.vfjsModel)) {\n      this.vfjsModel = cloneDeep(model);\n\n      if (!silent) {\n        this.vfjsBus.emit(VFJS_EVENT_MODEL_UPDATED, this.getVfjsModel());\n      }\n    }\n  },\n};\n\nexport default vfjsModelSetters;\n","import getters from './getters';\nimport setters from './setters';\n\nconst vfjsState = {\n  ...getters,\n  ...setters,\n};\n\nexport default vfjsState;\n","import { get } from 'lodash';\n\nconst vfjsStateGetters = {\n  getVfjsState(key) {\n    if (key) {\n      return get(this.vfjsState, key);\n    }\n\n    return this.vfjsState;\n  },\n  getVfjsFieldState(key) {\n    if (key) {\n      return this.getVfjsState(key);\n    }\n\n    return this.vfjsFieldModelKey\n      ? this.getVfjsState(this.vfjsFieldModelKey)\n      : null;\n  },\n};\n\nexport default vfjsStateGetters;\n","import { isEqual } from 'lodash';\nimport {\n  VFJS_EVENT_FIELD_STATE_UPDATE,\n  VFJS_EVENT_STATE_UPDATED,\n} from '../../../constants';\n\nconst vfjsStateSetters = {\n  setVfjsFieldState(value, key) {\n    this.vfjsBus.emit(VFJS_EVENT_FIELD_STATE_UPDATE, {\n      key: key || this.vfjsFieldModelKey,\n      value,\n    });\n  },\n  setVfjsState(state) {\n    if (!isEqual(state, this.getVfjsState())) {\n      this.vfjsState = Object.assign({}, this.getVfjsState(), state);\n      this.vfjsBus.emit(VFJS_EVENT_STATE_UPDATED, () => {\n        this.setVfjsFields();\n      });\n    }\n  },\n};\n\nexport default vfjsStateSetters;\n","import getters from './getters';\nimport setters from './setters';\n\nconst vfjsSchema = {\n  ...getters,\n  ...setters,\n};\n\nexport default vfjsSchema;\n","import { get } from 'lodash';\n\nconst vfjsSchemaGetters = {\n  getVfjsFieldSchema(key) {\n    if (key) {\n      return this.getVfjsSchema(key);\n    }\n\n    return this.vfjsFieldModelKey\n      ? this.getVfjsSchema(this.vfjsFieldModelKey)\n      : null;\n  },\n  getVfjsSchema(key) {\n    if (key) {\n      return get(this.vfjsSchema.properties, key) || this.getVfjsSchemaFallback(key);\n    }\n\n    return this.vfjsSchema;\n  },\n  getVfjsSchemaPath(path, key) {\n    const vfjsSchema = this.getVfjsSchema();\n\n    if (!path) {\n      if (vfjsSchema.items) {\n        return this.getVfjsSchemaPath('items');\n      }\n\n      return `properties.${key}`;\n    }\n\n    const schema = get(vfjsSchema, path);\n    if (schema) {\n      if (schema.items instanceof Array) {\n        // FIXME: The same schema is used regardless of item's index in the array\n        // This limitation is due to that schema prop must be an object and can not be an array\n\n        const arrayPath = this.getVfjsSchemaPath(`${path}.items`);\n        return this.getVfjsSchemaPath(`${arrayPath}.0`);\n      } else if (schema.properties instanceof Object) {\n        return this.getVfjsSchemaPath(`${path}.properties`, key);\n      }\n    }\n\n    if (!key) {\n      return path;\n    }\n\n    return `${path}.${key}`;\n  },\n  getVfjsSchemaFallback(key) {\n    const keys = String(key).split('.');\n    const schema = keys.reduce(this.getVfjsSchemaPath, '');\n    return get(this.getVfjsSchema(), schema);\n  },\n};\n\nexport default vfjsSchemaGetters;\n","import { cloneDeep, isEqual } from 'lodash';\n\nconst vfjsSchemaSetters = {\n  setVfjsSchema(value) {\n    if (!isEqual(value, this.vfjsSchema)) {\n      this.vfjsSchema = cloneDeep(value);\n    }\n  },\n};\n\nexport default vfjsSchemaSetters;\n","import getters from './getters';\nimport setters from './setters';\n\nconst vfjsUi = {\n  ...getters,\n  ...setters,\n};\n\nexport default vfjsUi;\n","import { get } from 'lodash';\n\nconst vfjsUiGetters = {\n  getVfjsFields(fields = []) {\n    return fields.reduce(\n      (vfjsFields, field) => [...vfjsFields, this.vfjsHelperCreateField(field)],\n      [],\n    );\n  },\n  getVfjsUiFieldVisible(field) {\n    if (field.errorHandler) {\n      if (!this.vfjsOptions.showValidationErrors) {\n        const state = this.getVfjsFieldState(field.model);\n        if (!state || (state && (!state.vfjsFieldBlur || !state.vfjsFieldDirty))) {\n          return false;\n        }\n      }\n\n      const value = this.getVfjsFieldModel(field.model);\n      const schema = this.getVfjsFieldSchema(field.model);\n\n      this.ajv.validate(schema, value);\n      const oldErrors = this.ajv.errors ? this.ajv.errors : [];\n\n      // Only continue if the errorHandlers field model has errors\n      if (oldErrors.length === 0) {\n        return false;\n      }\n    }\n\n    // If field does not have any displayOptions it should be visible\n    if (!field.displayOptions) {\n      return true;\n    }\n\n    // Get model and schema\n    const { model, schema = {} } = field.displayOptions;\n\n    // Get the field's model value\n    // It will fall back to the full model if model is undefined\n    const value = typeof model === 'undefined' ? this.getVfjsModel() : this.getVfjsFieldModel(model);\n\n    // Validate and check if we got any errors\n    // const errors = model\n    //   ? this.getVfjsValidationErrors(value, schema)\n    //   : this.getVfjsModelValidationErrors(model, value, schema);\n\n    // TODO: There's something wrong with the evaluation done in getVfjsValidationErrors\n    // Temporarily revert back to old behaviour with validating in this function\n    this.ajv.validate(schema, value);\n    const oldErrors = this.ajv.errors ? this.ajv.errors : [];\n\n    return oldErrors.length === 0;\n  },\n  getVfjsUiFieldArrayChildrenActive(model, children) {\n    const vfjsFieldModel = this.getVfjsFieldModel(model) || [];\n\n    return vfjsFieldModel\n      .map((v, i) => this.vfjsHelperChildArrayReducerMapper(model, children, i))\n      .map(this.getVfjsUiFieldsActive);\n  },\n  getVfjsUiField({ children = [], model, ...field }) {\n    if (this.getVfjsUiFieldVisible({ ...field, model })) {\n      const isArray = this.vfjsHelperFieldIsArray(model);\n      const required = this.vfjsHelperFieldIsRequired(model);\n\n      if (isArray) {\n        return {\n          ...field,\n          model,\n          required,\n          children: this.getVfjsUiFieldArrayChildrenActive(model, children),\n        };\n      }\n\n      return {\n        ...field,\n        model,\n        required,\n        children: this.getVfjsUiFieldsActive(children),\n      };\n    }\n\n    return false;\n  },\n  getVfjsUiFieldsActive(fields) {\n    return fields.reduce((newFields, field, index) => {\n      if (field) {\n        const newField = this.getVfjsUiField(field);\n        if (newField) {\n          newFields.push(newField);\n        }\n      }\n\n      return newFields;\n    }, []);\n  },\n  getVfjsFieldUiSchema(key) {\n    return this.getVfjsUiSchema(key);\n  },\n  getVfjsUiSchema(key) {\n    if (key) {\n      return get(this.vfjsUiSchema, key);\n    }\n\n    return this.vfjsUiSchema;\n  },\n};\n\nexport default vfjsUiGetters;\n","import { cloneDeep, isEqual } from 'lodash';\nimport { VFJS_EVENT_STATE_UPDATED } from '../../../constants';\n\nconst vfjsUiSetters = {\n  setVfjsUiSchema(uiSchema = []) {\n    const newVfjsUiSchema = uiSchema.reduce(\n      (fields, field, index) => [...fields, this.vfjsHelperGenerateField(field, index)],\n      [],\n    );\n\n    if (!isEqual(newVfjsUiSchema, this.vfjsUiSchema)) {\n      this.vfjsUiSchema = cloneDeep(newVfjsUiSchema);\n      this.setVfjsUiFieldsActive();\n    }\n  },\n  setVfjsUiFieldsActive() {\n    this.vfjsFieldsActive = this.getVfjsUiFieldsActive(this.vfjsUiSchema);\n    this.vfjsFieldsActiveModels = this.getVfjsFieldsModels(this.vfjsFieldsActive);\n\n    this.vfjsBus.emit(VFJS_EVENT_STATE_UPDATED, () => {\n      this.setVfjsFields();\n    });\n  },\n  setVfjsFields() {\n    this.vfjsFields = this.getVfjsFields(this.vfjsFieldsActive);\n  },\n};\n\nexport default vfjsUiSetters;\n","import vfjsBus from './vfjs-bus';\nimport vfjsHelpers from './vfjs-helpers';\nimport vfjsLifecycle from './vfjs-lifecycle';\nimport vfjsModel from './vfjs-model';\nimport vfjsState from './vfjs-state';\nimport vfjsSchema from './vfjs-schema';\nimport vfjsUi from './vfjs-ui';\nimport vfjsValidation from './vfjs-validation';\n\nconst vfjsMethods = {\n  ...vfjsBus,\n  ...vfjsLifecycle,\n  ...vfjsHelpers,\n  ...vfjsModel,\n  ...vfjsSchema,\n  ...vfjsState,\n  ...vfjsUi,\n  ...vfjsValidation,\n};\n\nexport default vfjsMethods;\n","import Ajv from 'ajv';\nimport getters from './getters';\nimport setters from './setters';\nimport { VFJS_EVENT_MODEL_VALIDATE } from '../../../constants';\n\nconst vfjsValidation = {\n  vfjsValidationInitialize() {\n    const { ajv = {} } = this.vfjsOptions;\n    const { options = {}, keywords = {}, plugins = {} } = ajv;\n\n    // Set up Ajv\n    this.ajv = new Ajv({\n      ...options,\n      // The `allErrors` option is required for validation to work\n      allErrors: true,\n    });\n\n    // Allow Ajv to be extended by other functions\n    // such as ajv-merge-patch, ajv-async etc.\n    Object.keys(plugins).forEach((name) => {\n      if (typeof plugins[name] === 'function') {\n        plugins[name](this.ajv);\n      }\n    });\n\n    // Add custom keywords\n    Object.keys(keywords).forEach((key) => {\n      this.ajv.addKeyword(key, keywords[key]);\n    });\n\n    // Add additional schemas\n    Object.keys(this.schemas).forEach((key) => {\n      this.ajv.addSchema(this.schemas[key], key);\n    });\n\n    // TODO: Move this to a method so we can call it when the schema/ui-schema/model is updated\n\n    // This is somewhat of a hack...\n    //\n    // To find out if a property is required\n    // we get the schema and use an empty object\n    // as the data, with allErrors option in Ajv\n    // we can get all the required properties\n    // and check if the model key is found in the errors\n    this.ajv.validate(this.getVfjsSchema(), {});\n\n    if (this.ajv.errors) {\n      const propertiesRequired = this.getVfjsPropertiesRequired(this.ajv.errors);\n      this.vfjsFieldsRequired = this.getVfjsChildPropertiesRequired(propertiesRequired);\n    }\n\n    // Check if validation is enabled and set to run on load\n    if (this.vfjsOptions.validate && this.vfjsOptions.validateOnLoad) {\n      this.vfjsBus.emit(VFJS_EVENT_MODEL_VALIDATE, { vfjsModel: this.getVfjsModel() });\n    }\n  },\n  ...getters,\n  ...setters,\n};\n\nexport default vfjsValidation;\n","import { set } from 'lodash';\n\nconst vfjsValidationGetters = {\n  /** getVfjsPropertiesRequired\n    @function\n    @description Get all errors of type required\n    @param [errors] array\n    @return\n      An array of the properties in the errors array\n      were the error property 'keyword' was 'required'.\n  */\n  getVfjsPropertiesRequired(errors) {\n    if (!errors) {\n      return [];\n    }\n\n    return errors.reduce((required, error) => {\n      if (error.keyword === 'required') {\n        if (error.params && error.params.missingProperty) {\n          const key = error.params.missingProperty;\n          const parent = String(error.dataPath).substr(1);\n          const propertyPath = parent ? `${parent}.${key}` : key;\n\n          if (required.indexOf(propertyPath) === -1) {\n            required.push(propertyPath);\n          }\n        }\n      }\n\n      return required;\n    }, []);\n  },\n  getVfjsChildPropertiesRequired(parentFields = [], excludeProperties = []) {\n    const uniqueProperties = parentFields.filter(property => excludeProperties.indexOf(property) === -1);\n\n    return uniqueProperties.reduce((properties, property) => {\n      // Add current property to array\n      properties.push(property);\n\n      // Validate schema with this property being an empty object\n      const value = {};\n      set(value, property, {});\n      this.ajv.validate(this.getVfjsSchema(), value);\n      const propertiesRequired = this.getVfjsPropertiesRequired(this.ajv.errors);\n\n      // If there were required properties below this property (i.e. this property is an object)\n      if (propertiesRequired.length > 0) {\n        const excludePropertiesChildren = [...excludeProperties, ...uniqueProperties];\n\n        const childFieldsRequired = this.getVfjsChildPropertiesRequired(\n          propertiesRequired,\n          excludePropertiesChildren,\n        );\n\n        properties.push(...childFieldsRequired);\n      }\n\n      return properties;\n    }, []);\n  },\n  getVfjsFieldModelValid(key, value) {\n    const errors = this.getVfjsFieldModelValidationErrors(key, value);\n    return errors.length === 0;\n  },\n  getVfjsFieldModelValidationErrors(key, value) {\n    return this.getVfjsValidationErrors(value, this.getVfjsSchema(key));\n  },\n  getVfjsModelValidationErrorsLocalized() {\n    const { ajv = {} } = this.vfjsOptions;\n    const { locale } = ajv;\n\n    if (typeof locale === 'function') {\n      locale(this.ajv.errors);\n    }\n  },\n  getVfjsValid() {\n    const errors = this.getVfjsValidationErrors();\n    return errors.length === 0;\n  },\n  getVfjsValidationErrors(model, schema) {\n    const ajvSchema = schema || this.getVfjsSchema();\n    const ajvModel = model || this.getVfjsModel();\n\n    const valid = this.ajv.validate(ajvSchema, ajvModel);\n    this.getVfjsModelValidationErrorsLocalized();\n    return !valid ? this.ajv.errors : [];\n  },\n};\n\nexport default vfjsValidationGetters;\n","import {\n  VFJS_EVENT_FIELD_MODEL_VALIDATE,\n  VFJS_EVENT_FIELD_STATE_UPDATE,\n  VFJS_EVENT_MODEL_VALIDATE,\n  VFJS_EVENT_UI_FIELDS_UPDATE,\n} from '../../../constants';\n\nconst vfjsValidationSetters = {\n  setVfjsValidationErrors() {\n    this.vfjsBus.emit(VFJS_EVENT_MODEL_VALIDATE, {\n      vfjsModel: this.getVfjsModel(),\n      cb: () => {\n        const validateRequired = key => new Promise((resolve, reject) => {\n          this.vfjsBus.emit(VFJS_EVENT_FIELD_MODEL_VALIDATE, {\n            key,\n            value: this.getVfjsFieldModel(key),\n            cb: (vfjsFieldErrors) => {\n              const fieldState = this.getVfjsFieldState(key);\n              this.vfjsBus.emit(VFJS_EVENT_FIELD_STATE_UPDATE, {\n                key,\n                value: {\n                  ...fieldState,\n                  vfjsFieldErrors,\n                },\n                cb: () => {\n                  resolve();\n                },\n              });\n            },\n          });\n        });\n\n        const operations = this.vfjsFieldsRequired.map(validateRequired);\n        return Promise.all(operations).then(() => this.vfjsBus.emit(VFJS_EVENT_UI_FIELDS_UPDATE));\n      },\n    });\n  },\n};\n\nexport default vfjsValidationSetters;\n","const props = {\n  components: {\n    type: Object,\n    default: () => ({}),\n  },\n  model: {\n    type: Object,\n    default: () => ({}),\n  },\n  schema: {\n    type: Object,\n    required: true,\n    default: () => ({}),\n  },\n  schemas: {\n    type: Object,\n    default: () => ({}),\n  },\n  options: {\n    type: Object,\n    default: () => ({}),\n  },\n  tag: {\n    type: String,\n    default: 'div',\n  },\n  uiSchema: {\n    type: Array,\n    required: true,\n    default: () => ({}),\n  },\n};\n\nexport default props;\n","import { merge } from 'lodash';\n\nconst watch = {\n  components(value) {\n    this.vfjsComponents = Object.assign({}, value);\n  },\n  model(value) {\n    this.setVfjsModel(value);\n  },\n  schema(value) {\n    this.setVfjsSchema(value);\n  },\n  uiSchema(value) {\n    this.setVfjsUiSchema(value);\n  },\n  options(value) {\n    this.vfjsOptions = merge({}, this.vfjsOptions, value);\n\n    if (this.vfjsOptions.showValidationErrors) {\n      this.setVfjsValidationErrors();\n    }\n  },\n};\n\nexport default watch;\n","import computed from './computed';\nimport data from './data';\nimport methods from './methods';\nimport props from './props';\nimport watch from './watch';\nimport { VFJS_EXTERNAL_MODEL_PROP, VFJS_EXTERNAL_EVENT_CHANGE } from '../constants';\n\nconst vfjsGlobalMixin = {\n  model: {\n    prop: VFJS_EXTERNAL_MODEL_PROP,\n    event: VFJS_EXTERNAL_EVENT_CHANGE,\n  },\n  created() {\n    this.vfjsInitialize();\n  },\n  beforeDestroy() {\n    this.vfjsDestroy();\n  },\n  computed,\n  data,\n  props,\n  methods,\n  watch,\n};\n\nexport default vfjsGlobalMixin;\n","import { merge } from 'lodash';\n\n// Elements which supports the 'value' attribute\nconst attrsValueElements = ['input', 'option', 'textarea'];\n\n// Elements which should have its DOM property 'value' updated\nconst domPropsValueElements = ['input', 'textarea'];\n\n// Elements which should have its DOM property 'checked' updated\nconst domPropsCheckedElements = ['checkbox', 'radio'];\n\n// Elements which has their value within the tags\nconst innerHTMLElements = ['textarea'];\n\n// Elements which supports the 'required' attribute\nconst requiredElements = ['input', 'select', 'textarea'];\n\nconst computed = {\n  vfjsComputedFieldHasErrors() {\n    return this.vfjsFieldState.vfjsFieldErrors && this.vfjsFieldState.vfjsFieldErrors.length > 0;\n  },\n  vfjsComputedShowFieldErrors() {\n    return (\n      (this.vfjsFieldState.vfjsFieldDirty && this.vfjsFieldState.vfjsFieldBlur)\n      || this.vfjsOptions.showValidationErrors\n    );\n  },\n  vfjsComputedFieldErrorOptions() {\n    return this.vfjsComputedShowFieldErrors && this.vfjsComputedFieldHasErrors\n      ? this.vfjsFieldErrorOptions\n      : {};\n  },\n  vfjsComputedFieldAttrs() {\n    const attrs = {\n      // id: this.vfjsFieldId, // This is very useful when debugging to see when nodes are updated\n    };\n\n    if (requiredElements.indexOf(this.vfjsComponent) !== -1) {\n      attrs.required = this.vfjsFieldRequired;\n    }\n\n    if (attrsValueElements.indexOf(this.vfjsComponent) !== -1) {\n      attrs.value = this.vfjsFieldModel || (this.vfjsFieldOptions.attrs && this.vfjsFieldOptions.attrs.value);\n    }\n\n    return attrs;\n  },\n  vfjsComputedFieldDomProps() {\n    const domProps = {};\n\n    if (innerHTMLElements.indexOf(this.vfjsComponent) !== -1) {\n      domProps.innerHTML = this.vfjsFieldModel\n        || (this.vfjsFieldOptions.domProps && this.vfjsFieldOptions.domProps.innerHTML);\n    }\n\n    if (domPropsValueElements.indexOf(this.vfjsComponent) !== -1) {\n      domProps.value = this.vfjsFieldModel\n        || (this.vfjsFieldOptions.domProps && this.vfjsFieldOptions.domProps.value);\n    }\n\n    if (domPropsCheckedElements.indexOf(this.vfjsComponent) !== -1) {\n      domProps.checked = this.vfjsFieldModel\n        || (this.vfjsFieldOptions.domProps && this.vfjsFieldOptions.domProps.checked);\n    }\n\n    return domProps;\n  },\n  vfjsComputedFieldOptions() {\n    return {\n      attrs: this.vfjsComputedFieldAttrs,\n      domProps: this.vfjsComputedFieldDomProps,\n      key: this.vfjsFieldOptions.key || this.vfjsFieldId,\n    };\n  },\n  vfjsComputedMergedFieldOptions() {\n    return merge(\n      {},\n      this.vfjsDefaultOptions,\n      this.vfjsComputedFieldErrorOptions,\n      this.vfjsComputedFieldOptions,\n    );\n  },\n};\n\nexport default computed;\n","import { merge } from 'lodash';\n\nconst getters = {\n  getVfjsAttributes() {\n    return this.getVfjsFieldAttributes(this.vfjsFieldOptions, this.vfjsComputedMergedFieldOptions);\n  },\n  getVfjsFieldAttributes(\n    {\n      class: optionsClass, on: optionsOn, nativeOn: optionsNativeOn, ...options\n    } = {},\n    {\n      class: defaultOptionsClass,\n      on: defaultOn,\n      nativeOn: defaultNativeOn,\n      ...defaultOptions\n    } = {},\n  ) {\n    if (!options) {\n      return {};\n    }\n\n    const classFormatted = merge(\n      {},\n      this.vfjsFieldHelperFormatClasses(optionsClass),\n      this.vfjsFieldHelperFormatClasses(defaultOptionsClass),\n    );\n\n    const onFormatted = merge(\n      this.vfjsFieldHelperFormatEvents(optionsOn),\n      this.vfjsFieldHelperFormatEvents(defaultOn),\n    );\n\n    const nativeOnFormatted = merge(\n      this.vfjsFieldHelperFormatEvents(optionsNativeOn),\n      this.vfjsFieldHelperFormatEvents(defaultNativeOn),\n    );\n\n    const computedOptions = {\n      class: classFormatted,\n      on: onFormatted,\n      nativeOn: nativeOnFormatted,\n    };\n\n    const defaultProps = Object.assign(\n      {},\n      {\n        props: this.$options.propsData,\n      },\n    );\n\n    const fieldOptionsAsProps = { props: options };\n\n    const valueProp = {\n      props: {\n        [this.vfjsFieldValueProp]: this.vfjsFieldModel,\n      },\n    };\n\n    const allAttributes = merge(\n      {},\n      defaultProps,\n      defaultOptions,\n      fieldOptionsAsProps,\n      options,\n      computedOptions,\n      valueProp,\n    );\n\n    return allAttributes;\n  },\n};\n\nexport default getters;\n","import getters from './getters';\nimport helpers from './helpers';\nimport setters from './setters';\n\nconst methods = {\n  ...getters,\n  ...helpers,\n  ...setters,\n};\n\nexport default methods;\n","import { VFJS_EVENT_UI_FIELDS_UPDATE } from '../../constants';\n\nconst helpers = {\n  vfjsFieldHelperAddListener(el, event) {\n    el.addEventListener(event, this.vfjsFieldHelperStateEventHandler);\n  },\n  vfjsFieldHelperRemoveListener(el, event) {\n    el.removeEventListener(event, this.vfjsFieldHelperStateEventHandler);\n  },\n  vfjsFieldHelperStateEventHandler(event) {\n    if (event && event.type === 'blur') {\n      const initialBlur = this.vfjsFieldState.vfjsFieldBlur;\n      this.setVfjsFieldState({\n        ...this.vfjsFieldState,\n        vfjsFieldBlur: true,\n      });\n\n      if (!initialBlur) {\n        this.vfjsBus.emit(VFJS_EVENT_UI_FIELDS_UPDATE);\n      }\n    }\n  },\n  vfjsFieldHelperFormatEvents(events) {\n    if (!events) {\n      return {};\n    }\n\n    let eventsObj = events;\n\n    if (Array.isArray(events)) {\n      eventsObj = events.reduce((obj, event) => ({ ...obj, [event]: true }), {});\n    } else if (typeof events === 'string') {\n      eventsObj = { [events]: true };\n    }\n\n    return this.vfjsFieldHelperFormatEventsReducer(eventsObj);\n  },\n  vfjsFieldHelperFormatClasses(classes) {\n    if (!classes) {\n      return {};\n    }\n\n    if (typeof classes === 'string') {\n      return {\n        [classes]: true,\n      };\n    }\n\n    if (Array.isArray(classes)) {\n      return classes.reduce(\n        (classesObj, key) => ({\n          ...classesObj,\n          [key]: true,\n        }),\n        {},\n      );\n    }\n\n    if (typeof classes === 'string') {\n      if (classes.indexOf(',') !== -1) {\n        return classes.split(',');\n      }\n\n      if (classes.indexOf(' ') !== -1) {\n        return classes.split(' ');\n      }\n    }\n\n    return classes;\n  },\n  vfjsFieldHelperEventHandler(key, cb) {\n    return (data) => {\n      if (typeof cb === 'function') {\n        return this.setVfjsFieldModel(cb(data));\n      }\n\n      if (data instanceof Event) {\n        if (data.target && data.target.value) {\n          return this.setVfjsFieldModel(data.target.value);\n        }\n\n        return this.setVfjsFieldModel(undefined);\n      }\n\n      return this.setVfjsFieldModel(data);\n    };\n  },\n  vfjsFieldHelperFormatEventsReducer(events = {}) {\n    return Object.keys(events).reduce(\n      (formattedEvents, key) => ({\n        ...formattedEvents,\n        [key]: this.vfjsFieldHelperEventHandler(key, events[key]),\n      }),\n      {},\n    );\n  },\n};\n\nexport default helpers;\n","import {\n  VFJS_EVENT_FIELD_MODEL_UPDATE,\n  VFJS_EVENT_FIELD_STATE_UPDATE,\n} from '../../constants';\n\nconst setters = {\n  setState(value) {\n    this.setVfjsFieldState(value);\n  },\n  setModel(value) {\n    this.setVfjsFieldModel(value);\n  },\n  setVfjsFieldState(value, key) {\n    this.vfjsBus.emit(VFJS_EVENT_FIELD_STATE_UPDATE, {\n      key: key || this.vfjsFieldModelKey,\n      value,\n    });\n  },\n  setVfjsFieldModel(value, key) {\n    this.vfjsBus.emit(VFJS_EVENT_FIELD_MODEL_UPDATE, {\n      key: key || this.vfjsFieldModelKey,\n      value,\n    });\n  },\n};\n\nexport default setters;\n","import computed from './computed';\nimport methods from './methods';\nimport props from './props';\n\nconst vfjsFieldMixin = {\n  computed,\n  props,\n  methods,\n  mounted() {\n    this.vfjsFieldHelperAddListener(this.$el, 'blur');\n  },\n  beforeDestroy() {\n    this.vfjsFieldHelperRemoveListener(this.$el, 'blur');\n  },\n};\n\nexport default vfjsFieldMixin;\n","const props = {\n  vfjsBus: {\n    type: Object,\n    required: true,\n  },\n  vfjsChildren: {\n    type: Array,\n    default: () => [],\n  },\n  vfjsChildrenUiSchema: {\n    type: Array,\n    default: () => [],\n  },\n  vfjsComponent: {\n    type: [String, Object, Function],\n  },\n  vfjsFieldErrorHandler: {\n    type: Boolean,\n  },\n  vfjsFieldErrorOptions: {\n    type: Object,\n  },\n  vfjsFieldErrors: {\n    type: Array,\n  },\n  vfjsFieldId: {\n    type: String,\n    required: true,\n  },\n  vfjsFieldModel: {\n    type: null,\n  },\n  vfjsFieldModelKey: {\n    type: [String, Boolean],\n    required: true,\n  },\n  vfjsFieldOptions: {\n    type: Object,\n    required: true,\n  },\n  vfjsFieldRequired: {\n    type: Boolean,\n    required: true,\n  },\n  vfjsFieldSchema: {\n    type: Object,\n    required: true,\n  },\n  vfjsFieldSchemas: {\n    type: Object,\n  },\n  vfjsFieldState: {\n    type: Object,\n    required: true,\n  },\n  vfjsFieldTag: {\n    type: String,\n    default: 'div',\n  },\n  vfjsFieldUiSchema: {\n    type: Object,\n    required: true,\n  },\n  vfjsFieldValueProp: {\n    type: String,\n  },\n  vfjsOptions: {\n    type: Object,\n    required: true,\n  },\n  vfjsModel: {\n    type: Object,\n    required: true,\n  },\n  vfjsState: {\n    type: Object,\n    required: true,\n  },\n};\n\nexport default props;\n","import vfjsGlobalComponent from './vfjs-global-component';\n\n// Declare install function executed by Vue.use()\nexport function install(\n  Vue,\n  options = {\n    component: 'vue-form-json-schema',\n  },\n) {\n  if (!install.installed) {\n    install.installed = true;\n    Vue.component(options.component, vfjsGlobalComponent);\n  }\n}\n\n// Create module definition for Vue.use()\nconst plugin = {\n  install,\n};\n\n// Auto-install when vue is found (eg. in browser via <script> tag)\nlet GlobalVue = null;\nif (typeof window !== 'undefined') {\n  GlobalVue = window.Vue;\n} else if (typeof global !== 'undefined') {\n  GlobalVue = global.Vue;\n}\n\nif (GlobalVue) {\n  GlobalVue.use(plugin);\n}\n\nexport default plugin;\n","module.exports = require(\"minibus\");","module.exports = require(\"ajv\");","import vfjsField from './vfjs-field-component';\nimport vfjsFieldMixin from './vfjs-field-mixin';\nimport vfjsGlobalMixin from './vfjs-global-mixin';\nimport vfjsGlobal from './vfjs-global-component';\nimport vfjsPlugin from './plugin';\n\nexport {\n  vfjsField,\n  vfjsFieldMixin,\n  vfjsGlobal,\n  vfjsGlobalMixin,\n  vfjsPlugin,\n};\n\nexport default vfjsGlobal;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}